# 1.浏览器渲染机制，重绘，重排
网页的生成过程：
- html被html解析器解析生成结构树
- css被css解析器解析成css规则树
- 将html和 css合成render树
- 生成布局，将所有渲染树的所有节点进行平面合成
- 将布局绘制到屏幕上

## (1)重排（回流）：
当dom的变化影响了元素的几何信息（dom对象的位置和大小），浏览器需要重新计算元素的几何属性，将其安放在界面中的正确位置

### 触发：
- 添加或删除可见的dom元素
- 元素尺寸改变——边距，填充，边框，宽高

## (2)重绘
当元素的外观发生变化，但是布局没有改变，重新把元素的外观绘制出来

### 触发：
改变元素的color, background, box-shadow等属性

### 重排优化建议：
- 分离读写操作
- 样式集中修改
- 缓存需要修改的dom元素

尽量只修改position为fixed/absolute的元素

# 2.BFC-块级格式化上下文-block formatting context

- 决定了元素如何对其内容进行定位，以及与其他元素的关系和相互作用

- BFC提供了一个环境，在这个环境中按照一定规则进行布局不会影响到其他环境的布局

- 具有 BFC 特性的元素可以看作是隔离了的独立容器，容器里面的元素不会在布局上影响到外面的元素

### 触发BFC特性：
- 根元素（html标签）
- 浮动元素的float不为none,(为left, right)
- 绝对定位元素position为absolute, fixed
- overflow的值为auto, scroll, hidden
- dispaly的值为inline-block, flex, grid, table, table-cell, table-caption

### 同一BFC
- 1.box会在垂直方向上一个接一个放置
- 2.垂直方向的距离由margin决定（属于同一BFC的两个相邻box的margin会发生重叠，与方向无关）
- 3.每个元素的margin box的左边， 与包含块border box的左边相接触(对于从左往右的格式化，否则相反)。即使存在浮动也是如此
- 4.计算BFC的高度时，浮动子元素也参与计算
- 5.BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面元素，反之亦然
- 6.BFC的区域不会与float的元素区域重叠

### 应用:

- 分属于不同的BFC时, 可以防止margin重叠
- 清除内部浮动
- 自适应多栏布局


